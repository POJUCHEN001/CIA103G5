<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fixlife 占卜師中心</title>

<link rel="canonical"
	href="https://getbootstrap.com/docs/5.1/examples/headers/">
<link rel="canonical"
	href="https://getbootstrap.com/docs/5.1/examples/sidebars/">

<!-- Custom styles for this template -->
<link href="/css/headers.css" rel="stylesheet">

<!-- Bootstrap core CSS -->
<link href="/assets/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Custom styles for sidevar -->
<link href="/css/sidebars.css" rel="stylesheet">

<link href="/css/ftcenter.css" rel="stylesheet">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" th:href="@{/css/style.css}"> 


<style>
</style>
</head>
<body>
<div th:replace="~{fragments/header :: header}"></div>
<!-- 	<header class="p-3 mb-3 border-bottom"> -->
<!-- 		<div class="container"> -->
<!-- 			<div -->
<!-- 				class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"> -->
<!-- 				<a href="/" -->
<!-- 					class="d-flex align-items-center mb-2 mb-lg-0 text-dark text-decoration-none"> -->
<!-- 					<h1>修卜人生</h1> -->
<!-- 				</a> -->

<!-- 				<ul -->
<!-- 					class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0"> -->
<!-- 					<li><a href="#" class="nav-link px-2 link-secondary">想找占卜師</a></li> -->
<!-- 					<li><a href="#" class="nav-link px-2 link-dark">購物商城</a></li> -->
<!-- 					<li><a href="/forum" class="nav-link px-2 link-dark">占卜論壇</a></li> -->
<!-- 					<li><a href="#" class="nav-link px-2 link-dark">線上塔羅小遊戲</a></li> -->
<!-- 					<li><a href="/register" class="nav-link px-2 link-dark">會員註冊</a></li> -->
<!-- 					<li><a href="/login" class="nav-link px-2 link-dark">會員登入</a></li> -->
<!-- 				</ul> -->

<!-- 				<form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3"> -->
<!-- 					<input type="search" class="form-control" placeholder="Search..." -->
<!-- 						aria-label="Search"> -->
<!-- 				</form> -->

<!-- 				<div class="dropdown text-end"> -->
<!-- 					<a href="#" -->
<!-- 						class="d-block link-dark text-decoration-none dropdown-toggle" -->
<!-- 						id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false"> -->
<!-- 						<img id="photo-icon" src="/svg/user-solid.svg" alt="mdo" -->
<!-- 						width="32" height="32" class="rounded-circle"> -->
<!-- 					</a> -->
<!-- 					<ul class="dropdown-menu text-small" -->
<!-- 						aria-labelledby="dropdownUser1"> -->
<!-- 						<li><a class="dropdown-item" href="membercenter">會員中心</a></li> -->
<!-- 						<li><a class="dropdown-item" href="ftcenter">占卜師中心</a></li> -->
<!-- 						<li><a class="dropdown-item" href="#">購物車</a></li> -->
<!-- 						<li><a class="dropdown-item" href="#">客服中心</a></li> -->
<!-- 						<li><hr class="dropdown-divider"></li> -->
<!-- 						<li><a class="dropdown-item logout-link" href="" id="logout" -->
<!-- 							name="logout">登出 </a></li> -->
<!-- 					</ul> -->
<!-- 				</div> -->
<!-- 			</div> -->
<!-- 		</div> -->
<!-- 	</header> -->

	<!-- <div class="b-example-divider"></div> -->
	<div class="container-all">
		<div th:replace="ftcenter :: sidebar"></div>
<!-- 		<div class="flex-shrink-0 p-3 bg-white" style="width: 280px;margin-right:0 !important;" th:fragment="sidebar"> -->
<!-- 			<a href="/ftcenter" -->
<!-- 				class="d-flex align-items-center pb-3 mb-3 link-dark text-decoration-none border-bottom"> -->
<!-- 				<svg class="bi me-2" width="30" height="24"> -->
<!-- 					<use xlink:href="#bootstrap" /></svg> <span class="fs-5 fw-semibold">占卜師中心</span> -->
<!-- 			</a> -->
<!-- 			<ul class="list-unstyled ps-0"> -->
<!-- 				<li class="mb-1"> -->
<!-- 					<button class="btn btn-toggle align-items-center rounded collapsed" -->
<!-- 						data-bs-toggle="collapse" data-bs-target="#home-collapse" -->
<!-- 						aria-expanded="true">占卜師中心</button> -->
<!-- 					<div class="collapse show" id="home-collapse"> -->
<!-- 						<ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"> -->
<!-- 							<li><a href="ftcenter" class="link-dark rounded">基本資料</a></li> -->
<!-- 							<li><a href="#" class="link-dark rounded">占卜服務設置</a></li> -->
<!-- 							<li><a href="#" class="link-dark rounded">預約查詢</a></li> -->
<!-- 						</ul> -->
<!-- 					</div> -->
<!-- 				</li> -->
<!-- 				<li class="mb-1"> -->
<!-- 					<button class="btn btn-toggle align-items-center rounded collapsed" -->
<!-- 						data-bs-toggle="collapse" data-bs-target="#dashboard-collapse" -->
<!-- 						aria-expanded="false">預約查詢</button> -->
<!-- 					<div class="collapse" id="dashboard-collapse"> -->
<!-- 						<ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"> -->
<!-- 							<li><a href="/reservations/ft/query" class="link-dark rounded">預約查詢</a></li> -->
<!-- 							<li><a href="/reservations/ft/manage" class="link-dark rounded">預約評價</a></li> -->
<!-- 							<li><a href="/reaervations/ft/statistics" class="link-dark rounded">預約統計</a></li> -->
<!-- 							<li><a href="/reservations/ft/financial" class="link-dark rounded">交易紀錄</a></li> -->
<!-- 						</ul> -->
<!-- 					</div> -->
<!-- 				</li> -->
<!-- 				<li class="mb-1"> -->
<!-- 					<button class="btn btn-toggle align-items-center rounded collapsed" -->
<!-- 						data-bs-toggle="collapse" data-bs-target="#orders-collapse" -->
<!-- 						aria-expanded="false">商品訂單查詢</button> -->
<!-- 					<div class="collapse" id="orders-collapse"> -->
<!-- 						<ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"> -->
<!-- 							<li><a th:href="@{/order/ft_order}"  class="link-dark rounded">訂單管理</a></li> -->
<!-- 							<li><a th:href="@{/order/ft_order/statistics}" class="link-dark rounded">訂單統計</a></li> -->
<!-- <!-- 							<li><a href="#" class="link-dark rounded">歷史訂單查詢</a></li> --> -->
<!-- 						</ul> -->
<!-- 					</div> -->
<!-- 				</li> -->
				
<!-- 				<li class="mb-1"> -->
<!-- 					<button class="btn btn-toggle align-items-center rounded collapsed" -->
<!-- 						data-bs-toggle="collapse" data-bs-target="#store-collapse" -->
<!-- 						aria-expanded="false">商城管理</button> -->
<!-- 					<div class="collapse" id="store-collapse"> -->
<!-- 						<ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"> -->
<!-- 							<li><a  th:href="@{/product/queryAllProduct}" class="link-dark rounded">商品管理</a></li> -->
<!-- 							<li><a th:href="@{/product/product_statistics}" class="link-dark rounded">銷售統計</a></li> -->
<!-- 						</ul> -->
<!-- 					</div> -->
<!-- 				</li> -->

<!-- 				<li class="border-top my-3"></li> -->
<!-- 				<li class="mb-1"> -->
<!-- 					<button class="btn btn-toggle align-items-center rounded collapsed" -->
<!-- 						data-bs-toggle="collapse" data-bs-target="#account-collapse" -->
<!-- 						aria-expanded="false">Account</button> -->
<!-- 					<div class="collapse" id="account-collapse"> -->
<!-- 						<ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"> -->
<!-- 							<li><a href="resetpassword" class="link-dark rounded">變更密碼</a></li> -->
<!-- 							<li><a href="#" class="link-dark rounded">刪除帳號</a></li> -->
<!-- 							<li><a href="#" class="link-dark rounded">客服中心</a></li> -->
<!-- 							<li><a href="#" class="link-dark rounded logout-link" -->
<!-- 								id="logout" name="logout">登出</a></li> -->
<!-- 						</ul> -->
<!-- 					</div> -->
<!-- 				</li> -->
<!-- 			</ul> -->
<!-- 		</div> -->

		<main class="main" style="padding:0 !important;">
			 <!-- 主要內容區 -->
			<main class="main-content" style="margin:0 !important;display:block;">
					<div>
						<button class="btn" type="button" style="background-color:#1e6bd5;color:white;margin-right:15px;"><a th:href="@{/product/queryAllProduct}" style="text-decoration:none;color:white;">返回所有商品</a></button>	
					</div>				   
				   <!-- 新增表單 -->
                <form class="addform" method="post" th:action="@{/product/send_update_product}" th:object="${product}" enctype="multipart/form-data">
                    <div class="addprod" >
                        <h5 style="font-weight: 700;">變更商品</h5>
                    </div>
                    
                    <div class="form-divide">
                    	<!-- 表格左側 -->
	                   <div class="left">
		                    <div class="mb-3 name">
		                      <label for="product-name" class="form-label">*商品名稱</label>
		                      <input type="text" th:field="*{prodName}" class="form-control product-name " id="product-name" aria-describedby="emailHelp" name="prodname"  required>
		                      <div id="emailHelp" class="form-text"></div>
		                      <p style="color:red;"></p>
		                    </div>		                  		               	
		                      
		                    <div class="mb-3 price">
		                        <label for="product-price" class="form-label">*商品價格</label>
		                        <input type="text" th:field="*{price}"  class="form-control  product-price" id="product-price" name="price" required> 
		                      	<p style="color:red;"></p>
		                      </div>
		
		                      <div class="mb-3 number">
		                        <label for="product-quantity" class="form-label">*商品庫存</label>
		                        <input type="number"  th:field="*{availableQuantity}"  min="0" class="form-control product-quantity" id="product-quantity" name="quantity" required>
		                      	<p style="color:red;"></p>
		                      </div>
		
		                      <div class="mb-3">
		                        <label for="product-quantity" class="form-label" name="status">*商品狀態</label>
		                        <select class="form-control" id="choose-status" name="status">
		                            <option value="1" th:selected="${status==1}">上架</option>
		                            <option value="0" th:selected="${status==0}">下架</option>
		                        </select>
		                      </div>
		                      
		                      <div class="mb-3 info">
		                        <label for="product-info" class="form-label">*商品資訊</label>
		                        <textarea class="form-control product-info" th:field="*{prodDesc}"  placeholder="填入商品相關的介紹(最多250個字)" id="product-info" name="prodinfo" required></textarea>
		                      	<p style="color:red;"></p>
		                      </div>
		                      
							</div>
							
							<!-- 表格右側 -->
							<div class="right">
								
<!-- 								<div class="mb-3 right-top"> -->
<!-- 									<button class="btn" style="background-color:#1e6bd5;float:right;margin-right:1rem;" type="button">新增圖片+</button> -->
<!-- 								</div> -->
		                      <div class="mb-3 right-top">	
		                      <label class="form-label">*主要圖片</label>	                        
								  <div class="left_block">
						              <div id="preview" class="drop_zone update-block">
										<img th:src="|data:image/jpeg;base64,${base64string}|" class="view-pic" style="width:100%;height:100%;">
						              </div>
					             </div>
					            <input type="hidden" name="prodno" th:field="*{prodNo}">
		                        <input type="hidden" name="ft_id" th:field="*{ftId}"> <!-- 先依照該商品的ft_id去修改 -->
		                        <input type="file" class="form-control update-preview"  name="photo">
		                      </div>
		                      
<!-- 		                     
							<!-- 圖片二:for-each取出map裡面的每個key(imageNo)、value(base64) -->
							<div class="mb-3 right-top" th:each="pic,iterStat : ${otherpics}">	
		                      <label class="form-label" th:text="'圖片 ' + (${iterStat.index} + 2)"></label>	                        
								  <div class="left_block">
						              <div id="preview" class="drop_zone update-block">
										<img th:src="'data:image/jpeg;base64,' + ${pic.value}" class="view-pic" style="width:100%;height:100%;">
						              </div>
					             </div>
					            <input type="hidden" th:name="${'imageNo_' + pic.key}" th:value="${pic.key}">
		                        <input type="hidden" name="ft_id" th:field="*{ftId}"> <!-- 先依照該商品的ft_id去修改 -->
		                        <input type="file" class="form-control update-preview"  name="photos">
		                      </div>
		                      
		                      <input type="file" name="photos" style="display:none;">
		                      <!-- 待完成:變更商品內的新增圖片(需判斷若已上傳達3張，則點擊按紐無效，反之則可新增最多到3張) -->
<!-- 							  <div class="mb-3 right-top">	 -->
<!-- 		                      <label class="form-label">新增圖片</label>	                         -->
<!-- 								  <div class="left_block"> -->
<!-- 						              <div id="preview" class="drop_zone update-block"> -->
<!-- 										<img th:src="|data:image/jpeg;base64,${base64string}|" class="view-pic" style="width:100%;height:100%;"> -->
<!-- 						              </div> -->
<!-- 					             </div> -->
<!-- 					            <input type="hidden" name="prodno" th:field="*{prodNo}"> -->
<!-- 		                        <input type="hidden" name="ft_id" th:field="*{ftId}">  -->
<!-- 		                        <input type="file" class="form-control update-preview"  name="photo"> -->
<!-- 		                      </div>	 -->
							
		                      
		                  
		                     
							</div>
						
						</div>
						      
						<!-- 底部按鈕 -->                
                      <div class="button-block">
                      	<input type="hidden" name="action" value="insert">
<!--                       	<button type="reset" class="btn btn-primary clear">清空</button> -->
                        <button type="submit" class="btn btn-primary add">確認修改</button>
                    </div>
                   
                  </form>
			
			</main>
				
				
				
				
				
			
		</main>
	</div>
<!-- 	<script src="/assets/dist/js/bootstrap.bundle.min.js"></script> -->
	<script src="/js/sidebars.js"></script>
<!-- 	<script src="/js/ftcenter.js"></script> -->
	 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script th:src="@{/js/product.js}"></script>
   <script th:src="@{/js/update_product.js}"></script>
   <script src="/js/header.js"></script>
</body>
</html>