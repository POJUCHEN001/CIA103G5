<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fixlife 占卜師中心</title>

<link rel="canonical"
	href="https://getbootstrap.com/docs/5.1/examples/headers/">
<link rel="canonical"
	href="https://getbootstrap.com/docs/5.1/examples/sidebars/">

<!-- Custom styles for this template -->
<link href="/css/headers.css" rel="stylesheet">

<!-- Bootstrap core CSS -->
<link href="/assets/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Custom styles for sidevar -->
<link href="/css/sidebars.css" rel="stylesheet">

<link href="/css/ftcenter.css" rel="stylesheet">

 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
 <link rel="stylesheet" href="https://cdn.datatables.net/1.13.5/css/jquery.dataTables.min.css" />
 <link rel="stylesheet" th:href="@{/css/style.css}"> 


<style>
	/* 預設圖片樣式 */
	img.photo {
	    width: 80px;
	    height: 80px;
	    transition: transform 0.3s ease; /* 過渡效果 */
	}
	
	/* 滑鼠移到圖片上時的樣式 */
	img.photo:hover {
	    transform: scale(1.2); /* 圖片放大 1.2 倍 */
	}


</style>
</head>
<body>

	<header class="p-3 mb-3 border-bottom">
		<div class="container">
			<div
				class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
				<a href="/"
					class="d-flex align-items-center mb-2 mb-lg-0 text-dark text-decoration-none">
					<h1>修卜人生</h1>
				</a>

				<ul
					class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
					<li><a href="#" class="nav-link px-2 link-secondary">想找占卜師</a></li>
					<li><a href="#" class="nav-link px-2 link-dark">購物商城</a></li>
					<li><a href="/forum" class="nav-link px-2 link-dark">占卜論壇</a></li>
					<li><a href="#" class="nav-link px-2 link-dark">線上塔羅小遊戲</a></li>
					<li><a href="/register" class="nav-link px-2 link-dark">會員註冊</a></li>
					<li><a href="/login" class="nav-link px-2 link-dark">會員登入</a></li>
				</ul>

				<form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3">
					<input type="search" class="form-control" placeholder="Search..."
						aria-label="Search">
				</form>

				<div class="dropdown text-end">
					<a href="#"
						class="d-block link-dark text-decoration-none dropdown-toggle"
						id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false">
						<img id="photo-icon" src="/svg/user-solid.svg" alt="mdo"
						width="32" height="32" class="rounded-circle">
					</a>
					<ul class="dropdown-menu text-small"
						aria-labelledby="dropdownUser1">
						<li><a class="dropdown-item" href="/membercenter">會員中心</a></li>
						<li><a class="dropdown-item" href="/ftcenter">占卜師中心</a></li>
						<li><a class="dropdown-item" href="#">購物車</a></li>
						<li><a class="dropdown-item" href="#">客服中心</a></li>
						<li><hr class="dropdown-divider"></li>
						<li><a class="dropdown-item logout-link" href="" id="logout"
							name="logout">登出 </a></li>
					</ul>
				</div>
			</div>
		</div>
	</header>

	<!-- <div class="b-example-divider"></div> -->
	<div class="container-all">
		<div class="flex-shrink-0 p-3 bg-white" style="width: 280px;margin-right:0 !important;" th:fragment="sidebar">
			<a href="/ftcenter"
				class="d-flex align-items-center pb-3 mb-3 link-dark text-decoration-none border-bottom">
				<svg class="bi me-2" width="30" height="24">
					<use xlink:href="#bootstrap" /></svg> <span class="fs-5 fw-semibold">占卜師中心</span>
			</a>
			<ul class="list-unstyled ps-0">
				<li class="mb-1">
					<button class="btn btn-toggle align-items-center rounded collapsed"
						data-bs-toggle="collapse" data-bs-target="#home-collapse"
						aria-expanded="true">占卜師中心</button>
					<div class="collapse show" id="home-collapse">
						<ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
							<li><a href="/ftcenter" class="link-dark rounded">基本資料</a></li>
							<li><a href="#" class="link-dark rounded">占卜服務設置</a></li>
							<!-- <li><a href="#" class="link-dark rounded">預約查詢</a></li> -->
						</ul>
					</div>
				</li>
				<li class="mb-1">
					<button class="btn btn-toggle align-items-center rounded collapsed"
						data-bs-toggle="collapse" data-bs-target="#dashboard-collapse"
						aria-expanded="false">預約查詢</button>
					<div class="collapse" id="dashboard-collapse">
						<ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
							<li><a href="/reservations/ft/query" class="link-dark rounded">預約查詢</a></li>
							<li><a href="/reservations/ft/manage" class="link-dark rounded">預約評價</a></li>
							<li><a href="/reaervations/ft/statistics" class="link-dark rounded">預約統計</a></li>
							<li><a href="/reservations/ft/financial" class="link-dark rounded">交易紀錄</a></li>
						</ul>
					</div>
				</li>
				<li class="mb-1">
					<button class="btn btn-toggle align-items-center rounded collapsed"
						data-bs-toggle="collapse" data-bs-target="#orders-collapse"
						aria-expanded="false">商品訂單查詢</button>
					<div class="collapse" id="orders-collapse">
						<ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
							<li><a th:href="@{/order/ft_order}"  class="link-dark rounded">訂單管理</a></li>
							<li><a th:href="@{/order/ft_order/statistics}" class="link-dark rounded">訂單統計</a></li>
<!-- 							<li><a href="#" class="link-dark rounded">歷史訂單查詢</a></li> -->
						</ul>
					</div>
				</li>
				
				<li class="mb-1">
					<button class="btn btn-toggle align-items-center rounded collapsed"
						data-bs-toggle="collapse" data-bs-target="#store-collapse"
						aria-expanded="false">商城管理</button>
					<div class="collapse" id="store-collapse">
						<ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
							<li><a  th:href="@{/product/queryAllProduct}" class="link-dark rounded">商品管理</a></li>
							<li><a th:href="@{/product/product_statistics}" class="link-dark rounded">銷售統計</a></li>
						</ul>
					</div>
				</li>

				<li class="border-top my-3"></li>
				<li class="mb-1">
					<button class="btn btn-toggle align-items-center rounded collapsed"
						data-bs-toggle="collapse" data-bs-target="#account-collapse"
						aria-expanded="false">Account</button>
					<div class="collapse" id="account-collapse">
						<ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
							<li><a href="resetpassword" class="link-dark rounded">變更密碼</a></li>
							<li><a href="#" class="link-dark rounded">刪除帳號</a></li>
							<li><a href="#" class="link-dark rounded">客服中心</a></li>
							<li><a href="#" class="link-dark rounded logout-link"
								id="logout" name="logout">登出</a></li>
						</ul>
					</div>
				</li>
			</ul>
		</div>

		<main class="main" style="padding:0 !important;">
			
			 <!-- 主要內容區 -->
			<main class="col-md-9 main-content" style="display:flex;padding:0!important;flex-direction:column;">
				
				<div style="display:inline-block;">
							<button class="btn" type="button" style="background-color:#1e6bd5;color:white;margin-right:15px;"><a th:href="@{/product/queryAllProduct}" style="text-decoration:none;color:white;">查看所有商品</a></button>				
							<button class="btn" type="button" style="background-color:#1e6bd5;color:white;"><a th:href="@{/product/add_product}" style="text-decoration:none;color:white;">新增商品 +</a></button>
						
					</div>
					
					<div class="top-container" style="flex:1;margin-top:25px !important;">				
										
						<p id="result"></p>
						
						<form class="query-part" method="post" action="#" style="margin-left:0 !important;">														
							<div class="query-prodstatus">
								<label>商品狀態:</label>
								<select class="choose-status">
									<option></option>
									<option>上架</option>
									<option>下架</option>
								</select>
							</div>
						
							<div class="query-prodname" >
								<label>輸入商品名稱:</label>
								<input type="text" id="qy-name">
							</div>
							
							<div class="query-prodno" >
								<label>輸入商品編號:</label>
								<input type="text" id="qy-no">
							</div>
							
							<div class="query-btn">
								<button type="button" class="btn" id="query_product" style="background-color:#1e6bd5;color:white;">查詢商品</button>
							</div>
												
						</form>	
					</div>
					
					<p style="float:right;" id="result"></p>
					
					<table class="table table-hover " id="productTable" style="flex:3;">
					    <thead class="thead">
					        <tr class="table-light">
					            <th>商品編號</th>
					            <th>圖片</th>
					            <th>商品名稱</th>                      			                                 
					            <th>價格</th>                       
					            <th>庫存</th>
					            <th>商品狀態</th>   
					            <th>商品資訊</th>                     
					            <th>新增日期</th>			            
					            <th>修改</th>
					            <th>刪除</th>
					        </tr>
					    </thead>
					    
					    <tbody class="table-group-divider">
<!-- 					    
					    	<!--第一列 -->
					        <tr th:each="productVO : ${allProductList}">
					            <td class="prodno" th:text="${productVO.prodNo}" name="prodno" ></td>
					             <td>
					                <img th:src="@{/product/showPic} + '?prodno=' + ${productVO.prodNo}"  style="width:80px;height:80px" class="photo" name="photo" >
					            </td>
					            <td class="prodname" th:text="${productVO.prodName}" ></td>			            
					            <td class="price" th:text="${productVO.price}" ></td>
					            <td class="quantity" th:text="${productVO.availableQuantity}" ></td>
					            <td class="status" th:text="${productVO.status==1?'上架':'下架'}" ></td>
					            <td class="prodinfo" th:text="${productVO.prodDesc}" style="width:200px;"></td>
					            <td class="createdtime" th:text="${timemap[productVO.prodNo]}" ></td>			           
					            <td>
					                <form method="post" th:action="@{/product/update_product}">
					                    <input type="hidden" name="prodno" th:value="${productVO.prodNo}">				               
					                    <button type="submit" class="btn update" style="background-color:#1e6bd5;color:white;">修改</button>
					                </form>
					            </td>
					            <td>
					            	<form method="post" th:action="@{/product/delete_product}">
					            		<input type="hidden" name="prodno" th:value="${productVO.prodNo}">
					                	<button type="button" class="btn delete" style="background-color:#ed0540;color:white;" data-bs-toggle="modal" data-bs-target="#exampleModal">刪除</button>
					           		
					           			<!-- Modal -->
										<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										  <div class="modal-dialog">
										    <div class="modal-content">						
										      <div class="modal-body">
										      	<div style="margin:30px 0;">
										      		 確認要刪除該商品嗎?	
										      	</div>									       
										        <button type="button" class="btn btn-primary yes" style="background-color:#007bff;margin-right:10px;">確定</button>
										        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" style="background-color:#ebebeb;color:#007bff;">取消</button>
										      </div>
									
										    </div>
										  </div>
										</div>
					           		
					           		</form>
					            </td>
					        </tr>
					       												        
					    </tbody>
					</table>
					
				</main>
				
				
				
				
				
			
		</main>
	</div>
<!-- 	<script src="/assets/dist/js/bootstrap.bundle.min.js"></script> -->
	<script src="/js/sidebars.js"></script>
	 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <!-- DataTables JS -->
  <script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
  <script th:src="@{/js/product.js}"></script>
  <!-- DataTables 設定 -->
    <script>
    $(document).ready(function () {
        $('#productTable').DataTable({
            lengthMenu: [10],
            searching: false,
            paging: true,
            ordering: false,
            language: {
                processing: "處理中...",
                loadingRecords: "載入中...",
                lengthMenu: "",
                zeroRecords: "沒有符合的結果",
                info: "顯示第 _START_ 至 _END_ 筆結果，共 <font color='red'>_TOTAL_</font> 筆",
                infoEmpty: "顯示第 0 至 0 筆結果，共 0 筆",
                infoFiltered: "(從 _MAX_ 筆結果中過濾)",
                search: "搜尋:",
                paginate: {
                    first: "第一頁",
                    previous: "上一頁",
                    next: "下一頁",
                    last: "最後一頁",
                },
                aria: {
                    sortAscending: ": 升冪排列",
                    sortDescending: ": 降冪排列",
                },
            },
        });
    });

    </script>
</body>
</html>